genes_list:
  DLBCL:
    - TP53
    - CD79B
  Lymphome B:
    - TP53
    - CD79B
    - MYD88
    - CD79A
    - CARD11
steps:
  - title: VAF en rouge + Background color différent de noir
    description: Trié par chromosome
    query:
      select:
        fields:
          - '''#''||"Background color" AS ''.backgroundcolor'''
          - '''#''||"VAF color" as ''.vafcolor'''
          - '"Sample_id"'
          - '"PREDICTED"'
          - '"Project.recurrence"'
          - '"Project.recurrence.DENOM"'
          - '"Analysis_recurrence.N"'
          - '"Analysis.recurrence.DENOM"'
          - '"Glims"'
          - '"Exon.rank"'
          - '"Gene.symbol"'
          - '"Chrom"'
          - '"Position"'
          - '"N.Ref"'
          - '"N.Alt"'
          - '"VAF"'
          - '"Variant.effect"'
          - '"hgvs.p"'
          - '"Depth"'
          - '"NbrReadRef"'
          - '"NbrReadAlt"'
          - '"NbrReadAlt.Pos"'
          - '"NbrReadAlt.Neg"'
          - '"Feature.id"'
          - '"hgvs.c"'
          - '"dbsnp.rs.id"'
          - '"Cosmic.noncoding.id"'
          - '"Cosmic.coding.id"'
          - '"Recurrence.cosmic"'
          - '"Nombre_reference.cosmic"'
          - '"Histo_majoritaire.cosmic"'
          - '"Histo_majoritaire_pourcentage.cosmic"'
          - '"Clinvar.clinical.significance"'
          - '"Clinvar.review.status"'
          - '"MAF"'
          - '"Position_recurrenceB"'
          - '"Position_recurrence1B"'
          - '"Position_recurrence1_detail.N"'
          - '"is.driver"'
          - '"Temps"'
          - '"ORIGINE"'
          - '"RatioAlt_PosNeg"'
          - '"testN.R"'
          - '"testN.D"'
          - '"testN_recurrence"'
          - '"testN_id.N"'
          - '"Feature.type"'
          - '"SIFT"'
          - '"PROVEAN"'
          - '"Phastcons"'
          - '"Spidex.dpsi.max.tissue"'
          - '"dbscsnv.Ada.score"'
          - '"dbscsnv.Rf.score"'
          - '"Putative.impact"'
          - '"CADD.phred"'
          - '"FATHMM"'
          - '"MUTATIONTASTER"'
          - '"Read.background.enrichment"'
          - '"Torrent.server.metric"'
          - '"Fisher.test.p.value"'
          - '"Spidex.dpsi.z.score"'
          - '"NbrReadRef.Pos"'
          - '"NbrReadRef.Neg"'
          - '"NChar_Alt"'
          - '"NChar_Ref"'
          - '"SDlong"'
          - '"dlong"'
          - '"rlong"'
          - '"Depth_min"'
          - '"SDlong.1"'
          - '"dlong.1"'
          - '"rlong.1"'
          - '"Gene.mediane"'
          - '"Position.mediane1"'
          - '"Position.mediane"'
          - '"Position.medianeR"'
          - '"VAFsum"'
          - '"NChar_Alt.median"'
          - '"NChar_Ref.median"'
          - '"RatioAlt_PosNeg.Sample_id"'
          - '"RatioAlt_PosNeg.median1"'
          - '"Test"'
          - '"TRI"'

        tables:
          - expression: "{main_table}"
            alias: main_table
        filter:
          filter_type: AND
          children:
            - expression: main_table."VAF color" = 'FFFF0000'
            - expression: main_table."Background color" NOT IN ('FF000000', '000000')
        order_by:
          - field: main_table.Chrom
            order: ASC
          - field: main_table.Position
            order: ASC
  - title: VAF en rouge + SUIVI uniquement
    description: Trié par chromosome et par position
    query:
      select:
        fields:
          - '''#''||"Background color" AS ''.backgroundcolor'''
          - '''#''||"VAF color" as ''.vafcolor'''
          - '"SUIVI/DIAGNOSTIC"'
          - '"Project.recurrence"'
          - '"Recurrence.cosmic"'
          - '"Phastcons"'
          - '"NbrReadAlt.Neg"'
          - '"NChar_Ref"'
          - '"dbsnp.rs.id"'
          - '"NbrReadAlt.Pos"'
          - '"VAF"'
          - '''#''||"VAF color" AS ''.vafcolor'''
          - '"TRI"'
          - '"hgvs.c"'
          - '"Cosmic.noncoding.id"'
          - '"dbscsnv.Ada.score"'
          - '"N.Ref"'
          - '"Cosmic.coding.id"'
          - '"NbrReadRef.Pos"'
          - '"Spidex.dpsi.max.tissue"'
          - '"NChar_Alt"'
          - '"Analysis_recurrence.N"'
          - '"is.driver"'
          - '"Depth_min"'
          - '"dlong"'
          - '"Variant.effect"'
          - '"Clinvar.clinical.significance"'
          - '"Glims"'
          - '"Position"'
          - '"PROVEAN"'
          - '"NbrReadAlt"'
          - '"MUTATIONTASTER"'
          - '"SIFT"'
          - '"Feature.type"'
          - '"Fisher.test.p.value"'
          - '"SDlong"'
          - '"Torrent.server.metric"'
          - '"RatioAlt_PosNeg"'
          - '"Histo_majoritaire_pourcentage.cosmic"'
          - '"testN_recurrence"'
          - '"Clinvar.review.status"'
          - '"CADD.phred"'
          - '"dbscsnv.Rf.score"'
          - '"Histo_majoritaire.cosmic"'
          - '"Chrom"'
          - '''#''||"Background color" AS ''.backgroundcolor'''
          - '"Background color"'
        tables:
          - expression: "{main_table}"
            alias: main_table
        filter:
          filter_type: AND
          children:
            - expression: main_table."VAF color" = 'FFFF0000'
            - expression: main_table."SUIVI/DIAGNOSTIC" = 'SUIVI'
        order_by:
          - field: main_table.Chrom
            order: ASC
          - field: main_table.Position
            order: ASC
  - title: VAF en rouge + DIAG uniquement
    description: Trié par chromosome et par position
    query:
      select:
        fields:
          - '''#''||"Background color" AS ''.backgroundcolor'''
          - '''#''||"VAF color" as ''.vafcolor'''
          - '"Sample_id"'
          - '"PREDICTED"'
          - '"Project.recurrence"'
          - '"Project.recurrence.DENOM"'
          - '"Analysis_recurrence.N"'
          - '"Analysis.recurrence.DENOM"'
          - '"Glims"'
          - '"Exon.rank"'
          - '"Gene.symbol"'
          - '"Chrom"'
          - '"Position"'
          - '"N.Ref"'
          - '"N.Alt"'
          - '"VAF"'
          - '"Variant.effect"'
          - '"hgvs.p"'
          - '"Depth"'
          - '"NbrReadRef"'
          - '"NbrReadAlt"'
          - '"NbrReadAlt.Pos"'
          - '"NbrReadAlt.Neg"'
          - '"Feature.id"'
          - '"hgvs.c"'
          - '"dbsnp.rs.id"'
          - '"Cosmic.noncoding.id"'
          - '"Cosmic.coding.id"'
          - '"Recurrence.cosmic"'
          - '"Nombre_reference.cosmic"'
          - '"Histo_majoritaire.cosmic"'
          - '"Histo_majoritaire_pourcentage.cosmic"'
          - '"Clinvar.clinical.significance"'
          - '"Clinvar.review.status"'
          - '"MAF"'
          - '"Position_recurrenceB"'
          - '"Position_recurrence1B"'
          - '"Position_recurrence1_detail.N"'
          - '"is.driver"'
          - '"Temps"'
          - '"ORIGINE"'
          - '"RatioAlt_PosNeg"'
          - '"testN.R"'
          - '"testN.D"'
          - '"testN_recurrence"'
          - '"testN_id.N"'
          - '"Feature.type"'
          - '"SIFT"'
          - '"PROVEAN"'
          - '"Phastcons"'
          - '"Spidex.dpsi.max.tissue"'
          - '"dbscsnv.Ada.score"'
          - '"dbscsnv.Rf.score"'
          - '"Putative.impact"'
          - '"CADD.phred"'
          - '"FATHMM"'
          - '"MUTATIONTASTER"'
          - '"Read.background.enrichment"'
          - '"Torrent.server.metric"'
          - '"Fisher.test.p.value"'
          - '"Spidex.dpsi.z.score"'
          - '"NbrReadRef.Pos"'
          - '"NbrReadRef.Neg"'
          - '"NChar_Alt"'
          - '"NChar_Ref"'
          - '"SDlong"'
          - '"dlong"'
          - '"rlong"'
          - '"Depth_min"'
          - '"SDlong.1"'
          - '"dlong.1"'
          - '"rlong.1"'
          - '"Gene.mediane"'
          - '"Position.mediane1"'
          - '"Position.mediane"'
          - '"Position.medianeR"'
          - '"VAFsum"'
          - '"NChar_Alt.median"'
          - '"NChar_Ref.median"'
          - '"RatioAlt_PosNeg.Sample_id"'
          - '"RatioAlt_PosNeg.median1"'
          - '"Test"'
          - '"TRI"'

        tables:
          - expression: "{main_table}"
            alias: main_table
        filter:
          filter_type: AND
          children:
            - expression: main_table."VAF color" = 'FFFF0000'
            - expression: main_table."SUIVI/DIAGNOSTIC" = 'DIAGNOSTIC'
        order_by:
          - field: main_table.Chrom
            order: ASC
          - field: main_table.Position
            order: ASC

  - title: Sans filtre
    description: Pas de filtre appliqué, trié par chromosome et position croissants
    query:
      select:
        fields:
          - '''#''||"Background color" AS ''.backgroundcolor'''
          - '''#''||"VAF color" as ''.vafcolor'''
          - '"Sample_id"'
          - '"PREDICTED"'
          - '"Project.recurrence"'
          - '"Project.recurrence.DENOM"'
          - '"Analysis_recurrence.N"'
          - '"Analysis.recurrence.DENOM"'
          - '"Glims"'
          - '"Exon.rank"'
          - '"Gene.symbol"'
          - '"Chrom"'
          - '"Position"'
          - '"N.Ref"'
          - '"N.Alt"'
          - '"VAF"'
          - '"Variant.effect"'
          - '"hgvs.p"'
          - '"Depth"'
          - '"NbrReadRef"'
          - '"NbrReadAlt"'
          - '"NbrReadAlt.Pos"'
          - '"NbrReadAlt.Neg"'
          - '"Feature.id"'
          - '"hgvs.c"'
          - '"dbsnp.rs.id"'
          - '"Cosmic.noncoding.id"'
          - '"Cosmic.coding.id"'
          - '"Recurrence.cosmic"'
          - '"Nombre_reference.cosmic"'
          - '"Histo_majoritaire.cosmic"'
          - '"Histo_majoritaire_pourcentage.cosmic"'
          - '"Clinvar.clinical.significance"'
          - '"Clinvar.review.status"'
          - '"MAF"'
          - '"Position_recurrenceB"'
          - '"Position_recurrence1B"'
          - '"Position_recurrence1_detail.N"'
          - '"is.driver"'
          - '"Temps"'
          - '"ORIGINE"'
          - '"RatioAlt_PosNeg"'
          - '"testN.R"'
          - '"testN.D"'
          - '"testN_recurrence"'
          - '"testN_id.N"'
          - '"Feature.type"'
          - '"SIFT"'
          - '"PROVEAN"'
          - '"Phastcons"'
          - '"Spidex.dpsi.max.tissue"'
          - '"dbscsnv.Ada.score"'
          - '"dbscsnv.Rf.score"'
          - '"Putative.impact"'
          - '"CADD.phred"'
          - '"FATHMM"'
          - '"MUTATIONTASTER"'
          - '"Read.background.enrichment"'
          - '"Torrent.server.metric"'
          - '"Fisher.test.p.value"'
          - '"Spidex.dpsi.z.score"'
          - '"NbrReadRef.Pos"'
          - '"NbrReadRef.Neg"'
          - '"NChar_Alt"'
          - '"NChar_Ref"'
          - '"SDlong"'
          - '"dlong"'
          - '"rlong"'
          - '"Depth_min"'
          - '"SDlong.1"'
          - '"dlong.1"'
          - '"rlong.1"'
          - '"Gene.mediane"'
          - '"Position.mediane1"'
          - '"Position.mediane"'
          - '"Position.medianeR"'
          - '"VAFsum"'
          - '"NChar_Alt.median"'
          - '"NChar_Ref.median"'
          - '"RatioAlt_PosNeg.Sample_id"'
          - '"RatioAlt_PosNeg.median1"'
          - '"Test"'
          - '"TRI"'
        tables:
          - expression: "{main_table}"
            alias: main_table
        filter:
          filter_type: AND
        order_by:
          - field: main_table.Chrom
            order: ASC
          - field: main_table.Position
            order: ASC
